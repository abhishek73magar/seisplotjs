<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="style.css">
  <title>Info Table</title>
  <style>
    sp-station-quake-table {
      height: 400px;

    }

    sp-station-quake-table
    {
      --even-row-background: aliceblue;
      --odd-row-background: White;
    }
  </style>
</head>
<body>
  <h5><a href="../index.html" class="">Seisplotjs</a> - <a href="index.html" class="">Gallery</a></h5>

  <h3>Earthquake Table: &lt;sp-quake-table&gt;</h3>
  <div>
    <sp-quake-table ></sp-quake-table>
  </div>

  <h3>Station Table:</h3>
  <div>
    <sp-station-table ></sp-station-table>
  </div>

  <h3>Channel Table:</h3>
  <div>
    <sp-channel-table ></sp-channel-table>
  </div>

  <h3>Seismogram Table:</h3>
  <div>
    <sp-seismogram-table ></sp-seismogram-table>
  </div>

  <h3>Station-Event Table:</h3>
  <div>
    <sp-station-quake-table ></sp-station-quake-table>
  </div>

  <script type="module">

    import * as seisplotjs from '../seisplotjs_3.0.0-alpha.4_standalone.mjs';
    seisplotjs.dataset.load('dataset.zip')
    .then((ds) => {
      document.querySelectorAll('sp-station-quake-table').forEach( graph => {
        graph.seisData = ds.waveforms;
        graph.draw();
      });
      return ds;
    }).then((ds) => {
        document.querySelectorAll('sp-quake-table').forEach( graph => {
          graph.quakeList = seisplotjs.seismogram.uniqueQuakes(ds.waveforms);
        });
        return ds;
    }).then((ds) => {
        document.querySelectorAll('sp-channel-table').forEach( graph => {
          graph.channelList = seisplotjs.seismogram.uniqueChannels(ds.waveforms);
        });
        return ds;
    }).then((ds) => {
        document.querySelectorAll('sp-station-table').forEach( graph => {
          graph.stationList = seisplotjs.seismogram.uniqueStations(ds.waveforms);
        });
        return ds;
    }).then((ds) => {
        document.querySelectorAll('sp-seismogram-table').forEach( graph => {
          graph.seisData = ds.waveforms;
        });
        return ds;
    }).catch( er => {
        console.assert(false, `Problem in load data: ${er}`);
        const errInfo = document.createElement("p");
        errInfo.textContent = `Problem in load data: ${er}`;
        document.querySelector('body').appendChild(errInfo);
    });
  </script>
</body>
</html>
