<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="../flavicon.png" />
  <title>Organized Display</title>
  <style>
    spectra-plot {
      height: 400px;
      display: block;
    }
    sp-organized-display {
      min-height: 100px;
    }
  </style>
</head>
<body>
  <h5><a href="../index.html" class="">Seisplotjs</a> - <a href="index.html" class="">Gallery</a></h5>

  <h3>Organized Display:</h3>
  <div>
    <sp-organized-display tools="true" map="false" info="false" overlay="individual" sort="distance"></sp-organized-display>
  </div>
  <script type="module">

    import * as seisplotjs from '../seisplotjs_3.0.0-alpha.4_standalone.mjs';
    //seisplotjs.dataset.load('dataset_onlyZ.zip')
    seisplotjs.dataset.load('dataset.zip')
      .then((ds) => {
        let seisConfig = new seisplotjs.seismographconfig.SeismographConfig();
        //seisConfig.linkedAmplitudeScale = new seisplotjs.scale.LinkedAmplitudeScale();
        seisConfig.linkedAmplitudeScale = new seisplotjs.scale.IndividualAmplitudeScale();
        seisConfig.doGain = true;
        seisConfig.doRmean = true;
        seisConfig.isRelativeTime = false;
        console.log(`seisconfig in html: ${seisConfig.configId}  ${seisConfig.doGain}`)
        document.querySelectorAll('sp-organized-display').forEach( graph => {
          graph.seismographConfig = seisConfig;
          graph.seisData = ds.waveforms;
        });
      });
  </script>
</body>
</html>
